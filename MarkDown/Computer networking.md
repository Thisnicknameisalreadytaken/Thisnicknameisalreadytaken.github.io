# 计算机网络

## 第一章 计算机网络体系结构

### 1.计算机网络概述

#### 1.概念,组成,功能,分类

三网--有线电视网络,电信网络,计算机网络

四网--有线电视网络,电信网络,计算机网络,电网

计算机网络--是一个将分散的,具有独立功能的**计算机系统(包括手机系统和电脑系统)**,通过**通信设备**与**线路**连接起来,由功能完善的**软件**实现**资源共享**和**信息传递**的系统

计算机网络是**互联**的,**自治**的计算机集合
互联--通过通信链路互联互通
自治--无主从关系

计算机网络的功能--

- 数据通信
- 资源共享--同一个计算机网络上的其他计算机可使用某台计算机资源的行为,可共享**硬件(打印机),软件,数据**
- 分布式处理--多台计算机各自承担同一工作任务的不同部分
  - 提高可靠性--替换机
  - 负载均衡--各计算机之间更亲密

计算机网络的发展--

1. 美国国防部高级研究计划局(ARPA)设计的一个分散的指挥系统--ARPAnet(阿帕网),通过无线分组交换网&卫星通信网连接
2. 1983 年阿帕网接受 TCP/IP 协议,选定 Internet 为主要的计算机通信系统
3. 1985 年起,美国国家科学基金会 NSF 围绕 6 个大型计算机中心建设计算机网络,即国家科学基金网**NSFNET**.具有**三级结构**--校园网/企业网 → 地区网 → 主干网
4. 多层次 ISP 结构.ISP--因特网服务提供者/因特网服务提供商,是一个向广大用户综合提供互联网接入业务,信息业务和增值业务的公司.如中国移动等.分为主干 ISP,地区 ISP,本地 ISP.
   主机 A→ 本地 ISP→ 地区 ISP→ 主干 ISP→ 地区 ISP→ 本地 ISP→ 主机 B

网络把许多计算机连接在一起
互联网把许多网络连接在一起
因特网是世界上最大的互联网

计算机网络的组成--

- 硬件
- 软件
- 协议(一系列规则和约定的集合)

计算机网络的工作方式--

- 边缘部分--用户直接使用
  - C/S 方式
  - P2P 方式
- 核心部分--网络和通信设备,为边缘部分服务

计算机网络的功能组成--

- 通信子网--实现**数据通信**
- 资源子网--实现**资源共享**/数据处理

|   ---    |   应用层   |               |
| :------: | :--------: | :-----------: |
| 资源子网 |   表示层   |               |
|   ---    |   会话层   |               |
|          |   传输层   |               |
|   ---    |   网络层   |    路由器     |
| 通信子网 | 数据链路层 |  交换机,网桥  |
|   ---    |   物理层   | 集线器,中继器 |

计算机网络的分类--

- 按分布范围分--
  - 个人局域网 PAN
  - 局域网 LAN(广播技术)
  - 城域网 MAN
  - 广域网 WAN(交换技术)
- 按使用者分--
  - 公用网
  - 专用网
- 按交互技术分--
  - 电路交换
  - 报文交换
  - 分组交换
- 按拓扑结构分--
  - 总线型
  - 星型
  - 环型
  - 网状型
- 按传输技术分--
  - 广播式网络--共享公共通信信道
  - 点对点网络--使用**分组存储转发**和**路由选择**机制

#### 2.标准化工作及相关组织

标准的分类--

- 法定标准--由权威机构制定的正式的,合法的标准.如 OSI
- 事实标准--某些公司的产品在竞争中占据了主流,这些产品中的协议和技术就成了标准.如 TCP/IP

RFC(Request For Comments)--因特网标准的形式

RFC 要上升为因特网正式标准的四个阶段--

1. 因特网草案(Internet Draft).这个阶段还不是 RFC 文档
2. 建议标准(Proposed Standard).从这个阶段开始成为 RFC 文档
3. 草案标准(Draft Standard).(2021 年后被取消)
4. 因特网标准(Internet Standa)

标准化工作的相关组织--

- 国际标准化组织 ISO--OSI 参考模型,HDLC 协议
- 国际电信联盟 ITU--制定通信规则
- 国际电气电子工程师协会 IEEE--学术机构,IEEE802 系列标准,5G
- Internet 工程任务组 IETF--负责因特网相关标准的制定,如 RFC XXXX

#### 3.性能指标

##### 1.速率,带宽,吞吐量

速率--数据率或数据传输率或比特率

带宽原指某个信号具有的频带宽度,即最高频率与最低频率之差,单位是赫兹(Hz)

在计算机网络中,带宽用来表示网络的通信线路传送数据的能力,通常是指单位时间内从网络中的某一点到另一点所能通过的**最高数据率**.也是网络设备所支持的最高速度.单位是比特每秒.

吞吐量--表示在**单位时间**内通过**某个网络**(或信道,接口)的数据量.单位 b/s,kb/s,Mb/s 等

吞吐量受网络的带宽或网络的额定速率的限制

##### 2.时延,时延带宽积,往返时间 RTT,利用率

时延--指数据(报文/分组/比特率)从网络(或链路)的一端传送到另一端所需要的时间.也叫延迟或迟延.单位是秒

- 发送时延--结点将分组的所有比特推向(传输)链路所需的时间,即从发送分组的第一个比特算起,到该分组的最后一个比特发送完毕所需要的时间,因此也被称为**传输时延**.
  计算公式为--发送时延=分组长度/信道宽度
- 传播时延--电磁波在信道中传播一定的距离需要花费的时间,即一个比特从链路的一段传播到另一端所需要的时间
  计算公式--传播时延=信道长度/电磁波在信道上的传播速率
- 排队时延--分组在进入路由器后要先在输入队列中排队等待处理.路由器确定转发端口后,还要在输出队列中等待转发,产生了排队时延
- 处理时延--数据在交换结点为存储转发而进行的一些必要的处理所花费的时间.如分析分组的首部,从分组中提取数据部分,进行差错检验等

总时延=发送时延+传播时延+排队时延+处理时延

时延带宽积--指发送端发送第一个比特即将到达终点时,发送端已经发出了多少个比特,因此又称以比特为单位的链路长度,即"某段链路现在又多少比特".即时延带宽积=传播时延 X 带宽

往返时延(Round-Trip Time,RTT)--指从发送端发出一个短分组,到发送端收到来自接收端的确认(接收端收到数据后立即发送确认),总共经历的时延.在互联网中,往返时延还包括各中间结点的处理时延,排队时延及转发数据时的发送时延

利用率--

- 信道利用率--有数据通过时间/(有+无)数据通过时间
- 网络利用率--信道利用率加权平均值.随利用率的增加,时延**急剧**增大

### 2.计算机网络体系结构与参考模型

#### 1.分层结构

网络体系结构是从**功能**上描述计算机网络结构的

计算机网络体系结构是计算机网络的**各层及其协议的集合**

体系结构是**抽象**的,而实现是指能运行的一些软件和硬件

分层的基本原则--

- 每层都实现一种相对独立的功能,降低大系统的复杂度
- 各层之间界面自然清晰,易于理解,相互交流尽可能少
- 各层功能的精确定义独立于具体的实现方法,可以采用最合适的技术来实现
- 保持下层对上层的独立性,上层单向使用下层提供的服务
- 整个分层结构能促进标准化工作

分层后各层之间相对独立,灵活性好,因此分层的体系结构易于更新(替换单个模块),易于调试,易于交流,易于抽象,易于标准化.

层次越多,不同层中重复出现的功能越多,产生额外的开销,整体的运行效率越低.
层次越少,每层的协议越复杂
在分层时应考虑层次的清晰程度与运行效率之间的折中,层次数量的折中

在计算机网络的分层结构中,第 n 层中的活动元素通常称为第 n 层实体.具体来说,实体指任何可发送或接受信息信息的硬件或软件进程,通常是一个特定的软件模块.

不同机器上的同一层称为**对等层**,同一层的实体称为**对等实体**.

第 n 层实体实现的服务为第 n+1 层所使用,在这种情况下,第 n 层称为**服务提供者**,第 n+1 层则服务于用户

在各个层次中,每个报文都分为两部分--数据部分(SDU),控制信息部分(PCI),他们共同组成 PDU

- 服务数据单元(SDU)--为完成用户所要求的功能而传送的数据.第 n 层的服务数据单元记为 n-SDU
- 协议控制信息(PCI)--控制协议操作的信息.第 n 层的协议控制信息记为 n-PCI
- 协议数据单元(PDU)--对等层次直接传送的数据单位称为该层的 PDU.第 n 层的协议数据单元记为 n-PDU
  - 物理层的 PDU 称为比特
  - 数据链路层的 PDU 称为帧
  - 网络层的 PDU 称为分组
  - 传输层的 PDU 称为报文段

各层间传输数据时,把第 n+1 层收到的 PDU 作为第 n 层的 SDU,加上第 n 层的 PCI,就变成了第 n 层的 PDU,交给第 n-1 层后作为 SDU 发送.接受方接收时做相反的处理.三者的关系如下--

$$
n-SDU+n-PCI=n-PDU=(n-1)-SDU
$$

层次结构的含义--

- 第 n 层的实体不仅要使用第 n-1 层的服务来实现自身定义的功能,还要向第 n+1 层提供本层的服务,该服务是第 n 层及其下面各层提供的服务总和
- 最底层只提供服务.是整个层次结构的基础,中间各层既是下一层的服务使用者,又是上一层的服务提供者,最高层面向用户提供服务
- 上一层只能通过相邻层间的接口使用下一层的服务,而不能调用其他层的服务,下一层所提供服务的实现细节对上一层透明(完全屏蔽)
- 两台主机通信时,对等层在逻辑上有一条直接信道,表现为不经过下层就能把信息送到对方

#### 2.协议,接口,服务

协议,就是规则的集合

为进行网络中的数据交换而建立的规则,标准或约定称为网络协议(Network Protocol),它是控制两个(或多个)对等实体进行通信的规则的集合,是水平的.不对等实体之间没有协议.网络协议简称为协议

协议组成--

- 语法--规定了传输数据的格式
- 语义--规定了所要完成的功能(需要发出何种控制信息,完成何种动作,做出何种应答)
- 同步--规定了执行各种操作的条件,时序关系等.即事件实现顺序的详细说明

一个完整的协议通常应该具有线路管理(建立,释放连接),差错控制,数据转换等功能

接口是同一结点内相邻两层间**交换信息的连接点**,是一个系统的内部规定

每层只能为紧邻的层次之间定义接口,不能跨层次定义接口.

在典型的接口上,同一结点相邻的两层实体通过服务访问点(Service Access Point,SAP)进行交互.服务是通过 SAP 提供给上层使用的,第 n 层的 SAP 就是第 n+1 层可以访问第 n 层服务的地方.每个 SAP 都有一个可以标识它的地址

服务是指下层为紧邻的上层提供的功能调用,它是垂直的.对等实体在协议的控制下,使得本层能为上一层提供服务,但要实现本层协议还需要使用下一层提供的服务

上层使用下层所提供的服务时必须与下层交换一些命令,这些命令在 OSI 参考模型中称为**服务原语**.OSI 参考模型将原语划分为 4 类--

- 请求(Request)--由服务用户发往服务提供者,请求完成某项工作
- 指示(Indication)--由服务提供者发送往服务用户,指示用户做某件事情
- 响应(Response)--由服务用户发往服务提供者,作为对指示的响应
- 证实(Confirmation)--由服务提供者发往服务用户,作为对请求的证实

有应答服务包含全部 4 种原语,无应答服务只有请求和指示两种原语

|  服务用户  |  实体(n+1)   |  ←  | 协议(n+1) |  →  |  实体(n+1)   | 第 n+1 层 |
| :--------: | :----------: | :-: | :-------: | :-: | :----------: | :-------: |
|            |      ↑       |     |           |     |      ↑       |           |
|            | 交换服务原语 |     |           |     | 交换服务原语 |           |
|            |      ↓       |     |           |     |      ↓       |           |
|            |     SAP      |     |           |     |     SAP      |           |
| 服务提供者 |   实体(n)    |  ←  |  协议(n)  |  →  |   实体(n)    |  第 n 层  |

计算机网络提供的服务--

- 面向连接服务和无连接服务
  - 面向连接服务--通信前双方必须先建立连接,分配相应的资源(如缓冲区),以保证通信能正常进行,传输结束后释放连接和所占用的资源.例如 TCP.这种服务可以分为--
    - 连接建立
    - 数据传输
    - 连接释放
  - 无连接服务--通信前双方不需要先建立连接,需要发送数据时可以直接发送.把每个带有目的地址的包(报文分组)传送到线路上,由系统选定路线进行传输.这是不可靠的服务.被描述为"尽最大努力交付"(Best-Effort-Delivery),它并不保证通信的可靠性.IP,UDP 就是无连接服务
- 可靠服务和不可靠服务
  - 可靠服务--网络具有纠错,检错,应答机制.能保证数据正确,可靠地传送到目的地
  - 不可靠服务--网络只是尽量正确,可靠地传送,而不能保证数据正确,可靠地传送到目的地,是一种尽力而为的服务
- 有应答服务和无应答服务
  - 有应答服务--接收方在收到数据后向发送方给出相应的应答,该应答由传输系统内部自动实现,而不由用户实现.所发送的应答可以是肯定应答,也可以是否定应答.通常在接收到的数据由错误时发送否定应答
  - 无应答服务--接受方收到数据后不自动给出应答.若要应答,则由高层实现

#### 3.ISO/OSI 模型

国际标准化组织(ISO)提出的网络体系结构模型,被称为**开放系统互联参考模型(OSI/RM)**,通常简称为 OSI 参考模型

OSI 参考模型有 7 层,自下而上依次为物理层,数据链路层,网络层,传输层,会话层,表示层,应用层.
低三层统称为**通信子网**,它是为了联网而附加的通信设备,完成数据的传输功能
高三层统称为**资源子网**,它相当于计算机系统,完成数据的处理等功能
传输层承上启下

| 端系统(主机) |     |            |  中继系统  |            |     | 端系统(主机) |
| :----------: | :-: | :--------: | :--------: | :--------: | :-: | :----------: |
|    应用层    |  ←  | 应用层协议 |            | 应用层协议 |  →  |    应用层    |
|    表示层    |  ←  | 表示层协议 |            | 表示层协议 |  →  |    表示层    |
|    会话层    |  ←  | 会话层协议 |            | 会话层协议 |  →  |    会话层    |
|    传输层    |  ←  | 传输层协议 |            | 传输层协议 |  →  |    传输层    |
|    网络层    |  ←  |     →      |   网络层   |     ←      |  →  |    网络层    |
|  数据链路层  |  ←  |     →      | 数据链路层 |     ←      |  →  |  数据链路层  |
|    物理层    |  ←  |     →      |   物理层   |     ←      |  →  |    物理层    |

##### 1.物理层(Physical Layer)

物理层的传输单位是比特,功能是在物理媒体上为数据端设备透明的传输原始比特率

物理层主要定义数据终端设备(DTE)和数据通信设备(DCE)的物理与逻辑连接方法,所以物理层协议也被称为**物理层接口标准**.由于在通信技术的早期阶段,通信规则被称为**规程(Procedure)**,因此物理层协议也被称为**物理层规程**

物理层接口标准--

- EIA-232C
- EIA/TLA RS-449
- CCITT 的 X.21

物理层主要研究--

- 通信链路与通信结点的连接的电路接口的参数
- 通信链路上传输的信号的意义和电气特征

传输信息所利用的一些物理媒体,如光缆,无线信道等并不在物理层协议之内

##### 2.数据链路层(Data Link Layer)

数据链路层的传输单位是帧,任务是将网络层传来的 IP 数据报组装成帧.

数据链路层的功能--

- 成帧
- 差错控制
- 流量控制
- 传输管理

广播式网络在数据链路层还要处理如何控制对共享信道的访问,数据链路层的一个特殊的子层--介质访问子层,就是处理这个问题的

数据链路层协议--

- SDLC
- HDLC
- PPP
- STP
- 帧中继

##### 3.网络层(Network Layer)

网络层的传输单位是数据报,它关心的是通信子网的运行控制,主要任务是把网络层的协议数据单元(分组)从源端传输到目的端,为分组交换网上的不同主机提供通信服务.

关键问题--

- 对分组进行路由选择
- 实现流量控制
- 实现拥塞控制
- 实现差错控制--若发现了差错,优先纠正,纠正失败则直接丢弃,保证向上层提交的数据都是正确的
- 实现网际互联

因特网是一个很大的互联网,它由大量的异构网络通过路由器(Router)互相连接起来.因特网的主要网络层协议是无连接的网际协议(Internet Protocol,IP)和许多路由选择协议.因此因特网的网络层也称为**网际层**或**IP 层**

网络层协议--

- IP
- IPX
- ICMP
- IGMP
- ARP
- PARP
- OSPF

##### 4.传输层(Transport Layer)

传输层也称为**运输层**,传输单位是报文段(TCP)或用户数据报(UDP)

传输层负责主机中两个进程的通信,功能是为端到端连接提供稳定可靠的传输服务,为端到端连接提供流量控制,差错控制,服务质量,数据传输管理

端到端的通信是指运行在不同主机的两个进程之间的通信,一个进程由一个端口来标识,所以称为端到端通信

使用传输层的服务,高层用户可以直接进行端到端的数据传输.从而忽略通信子网的存在

通过传输层的屏蔽.高层用户看不到子网的交替和变化

由于一台主机可同时运行多个进程,因此传输层具有复用和分用的功能

- 复用--多个应用层进程可同时使用下面传输层的服务
- 分用--传输层把收到的信息分别交付给上面应用层中相应的进程

传输层协议--

- TCP
- UDP

##### 5.会话层(Session Layer)

会话层允许不同主机上的各个进程之间进行会话

会话层利用传输层提供的端到端的服务向表示层提供它的增值服务.这种服务主要为表示层实体或用户进程建立连接并在连接上有序地传输数据,这就是会话,也称建立同步(SYN)

会话层负责管理主机间的会话进程,包括建立,管理及终止进程间的会话

会话层可以使用校验点使通信会话在通信失效时从校验点继续恢复通信,实现数据同步

##### 6.表示层(Presentation Layer)

表示层主要处理在两个通信系统中交换信息的表示方式.不同机器采用的编码和表示方法不同,使用的数据结构也不同.为了使不同表示方法的数据和信息之间能互相交换,表示层采用抽象的标准方法定义数据结构,并采用标准的编码形式.

数据压缩,加密和解密也是表示层可提供的数据表示变换功能

##### 7.应用层(Application Layer)

应用层是 OSI 参考模型的最高层,是用户与网络的界面.

应用层为特定类型的网络应用提供访问 OSI 参考模型环境的手段.因为用户的实际应用多种多样,这就要求应用层采用不同的应用协议来解决不同类型的应用要求,因此应用层是最复杂的一层,使用的协议也最多

应用层协议--

- 用于文件传送的 FTP
- 用于电子邮件的 SMTP
- 用于万维网的 HTTP

#### 4.TCP/IP 模型

ARPA 在研究 ARPAnet 时提出了 TCP/IP 模型,模型从低到高依次为--

- 网络接口层(对应 OSI 参考模型中的物理层和数据链路层)
- 网际层
- 传输层
- 应用层(对应 OSI 参考模型中的会话层表示层和应用层)

TCP/IP 由于得到广泛应用而成为**事实上的国际标准**

|    层级    |      |     |            |            |            |     |     |
| :--------: | :--: | :-: | :--------: | :--------: | :--------: | :-: | :-: |
|   应用层   | HTTP |     |    SMTP    |            |    DNS     |     | RTP |
|            |  ↘   |     |     ↙      |            |     ↘      |     |  ↙  |
|   传输层   |      | TCP |            |            |            | UDP |     |
|            |      |     |     ↘      |            |     ↙      |     |     |
|   网络层   |      |     |            |     IP     |            |     |     |
|            |      |     |     ↙      |     ↓      |     ↘      |     |     |
| 网络接口层 |      |     | 网络接口 1 | 网络接口 2 | 网络接口 3 |     |     |

IP 协议是因特网中的核心协议

TCP/IP 可以为各式各样的应用提供服务(所谓的 everything over IP),同时 TCP/IP 也允许 IP 协议在由各种网络构成的互联网上运行(所谓的 IPovereverything)

##### 1.网络接口层

网络接口层的功能类似于 OSI 参考模型的物理层和数据链路层.它表示与物理网络的接口,但实际上 TCP/IP 本身并未真正描述这一部分,只是指出主机必须使用某种协议与网络连接,以便在其上传递 IP 分组

具体的物理网络既可以是各种类型的局域网,如以太网,令牌环网,令牌总线网等,也可以是诸如电话网,SDH,X.25,中继和 ATM 等公共数据网络

网络接口层的作用是从主机或结点接收 IP 分组,并把它们发送到指定的物理网络上

##### 2.网络层

网际层(主机-主机)是 TCP/IP 体系结构的关键部分.

它和 OSI 参考模型的网络层在功能上非常相似.网际层将分组发往任何网络,并为之独立地选择合适的路由,但它不保证各个分组有序地到达,各个分组的有序交付由高层负责

网际层定义了标准的分组格式和协议,即 IP.当前采用的是 IPv4,它的下一版本是 IPv6

##### 3.传输层

传输层(应用-应用或进程-进程)的功能同样和 OSI 参考模型中的传输层类似,即使得发送端和目的端主机上的对等实体进行会话

传输层主要使用以下两种协议--

- 传输控制协议 (Transmission Control Protocol,TCP)--它是面向连接的,数据传输的单位是报文段,能够提供可靠的交付
- 用户数据报协议(User Datagram Protocol,UDP)--它是无连接的,数据传输的单位是用户数据报,不保证提供可靠的交付,只能提供"尽最大努力交付"

##### 4.用户层

应用层(用户-用户)包含所有的高层协议,如--

- 虚拟终端协议(Telnet)
- 文件传输协议(FTP)
- 域名解析服务(DNS)
- 电子邮件协议 (SMTP)
- 超文本传输协议 (HTTP)

#### 5.TCP/IP 模型与 OSI 模型的比较

##### 1.相似之处

- 二者都采取分层的体系结构,将庞大且复杂的问题划分为若干较容易处理的,范围较小的问题,而且分层的功能也大体相似
- 二者都是基于独立的协议栈的概念
- 二者都可以解决异构网络的互连,实现世界上不同厂家生产的计算机之间的通信

##### 2.不同之处

- OSI 参考模型的最大贡献就是精确地定义了三个主要概念--服务,协议和接口,这与现代的面向对象程序设计思想非常吻合.而 TCP/IP 模型在这三个概念上却没有明确区分,不符合软件工程的思想
- OSI 参考模型产生在协议发明之前,没有偏向于任何特定的协议,通用性良好.但设计者在协议方面没有太多经验,不知道把哪些功能放到哪一层更好.TCP/IP 模型正好相反,首先出现的是协议,模型实际上是对已有协议的描述,因此不会出现协议不能匹配模型的情况,但该模型不适合于任何其他非 TCP/IP 的协议栈
- TCP/IP 模型在设计之初就考虑到了多种异构网的互连问题,并将网际协议(IP)作为一个单独的重要层次.OSI 参考模型最初只考虑到用一种标准的公用数据网将各种不同的系统互连.OSI 参考模型认识到 IP 的重要性后,只好在网络层中划分出一个子层来完成类似于 TCP/IP 模型中的 IP 的功能
- **OSI 参考模型在网络层支持无连接和面向连接的通信,但在传输层仅有面向连接的通信.而 TCP/IP 模型认为可靠性是端到端的问题,因此它在网际层仅有一种无连接的通信模式但传输层支持无连接和面向连接两种模式**

OSI 参考模型的软件效率极低,OSI 参考模型缺乏市场与商业动力,结构复杂,实现周期长,运行效率低,这是它未能达到预目标的重要原因

##### 3.理想的 5 层协议体系结构模型

|    应用层    |                            |     应用层     |
| :----------: | :------------------------: | :------------: |
| 应用层(客户) |    客户发起连接建议请求    | 应用层(服务器) |
| 应用层(客户) |       →→→→→→→→→→→→→        | 应用层(服务器) |
| 应用层(客户) |       ←←←←←←←←←←←←←        | 应用层(服务器) |
| 应用层(客户) |   服务器接受连接建立请求   | 应用层(服务器) |
|    传输层    | 使用下层提供的服务(TCP/IP) |     传输层     |
|    网络层    | 使用下层提供的服务(TCP/IP) |     网络层     |
|  数据链路层  | 使用下层提供的服务(TCP/IP) |   数据链路层   |
|    物理层    |           因特网           |     物理层     |

##### 4.通信协议栈

每个协议栈的最顶端都是一个面向用户的接口,下面各层是为通信服务的协议

用户传输一个数据报时,通常给出用户能够理解的自然语言,然后通过应用层,将自然语言会转化为用于通信的通信数据.通信数据到达传输层,作为传输层的数据部分(传输层 SDU),加上传输层的控制信息(传输层 PCI),组成传输层的 PDU,然后交到网络层.传输层的 PDU 下放到网络层后,就成为网络层的 SDU,然后加上网络层的 PCI,又组成了网络层的 PDU,下放到数据链路层.就这样层层下放,层层包裹,最后形成的数据报通过通信线路传输,到达接收方结点协议栈,接收方再逆向地逐层把包裹拆开,然后把收到的数据提交给用户

## 第二章

### 1.通信基础

#### 1.基础概念

##### 1.数据,信号和码元

通信的目的是传送信息,如文字,图像和视频等

数据是指传送信息的实体,信号则是数据的电气或电磁表现,是数据在传输过程中的存在形式.数据和信号都可用"模拟的"或"数字的"来修饰--

- 连续变化的数据(或信号)称为模拟数据(或模拟信号)
- 取值允许为有限的几个离教数值的数据(或信号)称为数宇数据(或字信号)

数据传输方式可分为串行传输和并行传输.串行传输是指 1 比特 1 比特地按照时间顺序传输(远距离通信通常采用串行传输),并行传输是指若干比特通过多条通信信道同时传输

码元是指用一个固定时长的信号波形(数字脉冲)表示一位 k 进制数字,代表不同离散数值的基本波形,是数字通信中数字信号的计量单位,这个时长内的信号称为 k 进制码元,而该时长称为码元宽度.1 码元可以携带若干比特的信息量.例如,在使用二进制编码时,只有两种不同的码元--一种代表 0 状态,另一种代表 1 状态

##### 2.信源,信道与信宿

数据通信是指数字计算机或其他数字终端之间的通信.一个数据通信系统主要划分为信源,信道和信宿三部分

信源是产生和发送数据的源头,信宿是接收数据的终点,它们通常都是计算机或其他数字终端装置.

发送端信源发出的信息需要通过变换器转换成适合于在信道上传输的信号,而通过信道传输到接收端的信号先由反变换器转换成原始信息,再发送给信宿

信道与电路并不等同,信道是信号的传输媒介.一个信道可视为一条线路的逻辑部件,一般用来表示向某个方向传送信息的介质,因此一条通信线路往往包含一条发送信道和一条接收信道.噪声源是信道上的噪声(即对信号的干扰)及分散在通信系统其他各处的噪声的集中表示

| 单     | 向  | 信道   | 通  | 信     | 系  | 统       | 模  | 型     |
| ------ | --- | ------ | --- | ------ | --- | -------- | --- | ------ |
| 信源   | →   | 变换器 | →   | 信道   | →   | 反变换器 | →   | 信宿   |
| 发送端 |     | 发送端 |     | 噪声源 |     | 接受端   |     | 接受端 |

实际的通信系统大多为双向的,即往往包含一条发送信道和一条接收信道,信道可以进行双向通信.

信道分类--

- 传输信号形式
  - 传送模拟信号的模拟信道
  - 传送数字信号的数字信道
- 传输介质
  - 无线信道
  - 有线信道

信道上传送的信号--

- 基带信号--将数字信号 1 和 0 直接用两种不同的电压表示，然后送到数字信道上传输(称为基带传输)
- 宽带信号--将基带信号进行调制后形成频分复用模拟信号,然后送到模拟信道上传输(称为宽带传输)

从通信双方信息的交互方式看可分为三种基本方式--

- 单向通信--只有一个方向的通信而没有反方向的交互,仅需要一条信道.例如,无线电广播,电视广播就属于这种类型
- 半双工通信--通信的双方都可以发送或接收信息,但任何一方都不能同时发送和接收信息,此时需要两条信道
- 全双工通信--通信双方可以同时发送和接收信息,也需要两条信道

信道的极限容量是指信道的最高码元传输速率或信道的极限信息传输速率

##### 3.速率,波特与带宽

速率也称数据率,指的是数据传输速率,表示单位时间内传输的数据量.可以用码元传输速
率和信息传输速率表示--

- 码元传输速率--又称波特率,它表示单位时间内数字通信系统所传输的码元个数(也可称为脉冲个数或信号变化的次数),单位是波特(Baud).1 波特表示数字通信系统每秒传输一个码元.码元可以是多进制的,也可以是二进制的,码元速率与进制数无关
- 信息传输速率--又称信息速率,比特率等,它表示单位时间内数字通信系统传输的二进制码元个数(即比特数),单位是比特/秒 (b/s)

波特和比特是两个不同的概念,码元传输速率也称调制速率,波形速率或符号速率但码元传输速率与信息传输速率在数量上却又有一定的关系.若一个码元携带 n 比特的信息量则 M 波特率的码元传输速率所对应的信息传输速率为 Mn 比特/秒

带宽原指信号具有的频带宽度,单位是赫兹(HZ).在实际网络中,由于数据率是信道最重要的指标之一,而带宽与数据率存在数值上的互换关系,因此常用来表示网络的通信线路所能传输数据的能力.因此,带宽表示单位时间内从网络中的某一点到另一点所能通过的"最高数据率".此时带宽的单位不再是 Hz,而是 b/s

#### 2.奎斯特定理与香农定理
