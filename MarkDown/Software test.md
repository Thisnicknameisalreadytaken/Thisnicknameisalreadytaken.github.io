    软件测试方法和技术

## 第一章 引论

### 1.软件测试的必要性

信号显示不对,数据不完整,操作不灵活

兼容性,浮点精确度,集成度(接口)

### 2.为什么要进行软件测试

为了保证软件质量

软件测试是软件质量保证的关键步骤

### 3.什么是软件测试

对软件产品和阶段性工作成果进行质量检验,力求发现其中的各种缺陷,并督促缺陷得到修正,从而控制软件产品的质量

初期软件测试的概念为验证软件是可用的,无错的,后期软件测试的概念是尽可能找出更多的错误

### 4.测试和开发的关系

现在人们普遍认为软件测试贯穿着整个软件生命周期,从需求评审,设计评审开始,测试就介入到软件产品的开发活动或软件项目实施中

V 模型--

1. 需求验证对应验收测试,客户需求的确认测试
2. 系统架构设计的验证对应系统非功能性测试
3. 产品详细设计的验证对应功能测试
4. 代码的验证对应单元测试和集成测试

### 5.测试和质量保证的关系

软件质量保证(Software Quality Assurance,SQA)活动是通过对软件产品有计划地进行评审和审计来验证软件是否合乎标准的系统工程.通过协调,审查和跟踪以获取有用信息,形成分析结果以指导软件过程

SQA 与软件测试之间相辅相成,既存有包含又存有交叉的关系

SQA 指导,监督软件测试的计划和执行,督促测试工作的结果客观,准确和有效,并协助测试流程的改进.软件测试是 SQA 重要手段之一,为 SQA 提供所需的数据,作为质量评价的客观依据

- 相同之处--都贯穿整个软件开发生命周期的流程
- 不同之处--SQA 是一项管理工作,侧重于对流程的评审和监控,而测试是一项技术性的工作,侧重对产品进行评估和验证

### 6.测试驱动开发的思想

敏捷方法提出了测试驱动开发(Test Driven Development,TDD)--测试在先,编码在后

测试驱动开发在于先想好各种应用场景,前提条件,促进开发人员思考,写出更完善的代码,提高工作效率.其次,也确保测试具有独立性,不受实现思维的影响,确保测试的客观,全面.最后,也确保所有代码的可测试性,每一行代码得到了测试,确保代码的质量

## 第二章 软件测试的基本概念

缺陷是相对质量而存在的,违背了质量,违背了客户的意愿,不能满足客户的要求,就会引起缺陷或产生缺陷

### 1.软件缺陷

#### 1.软件质量的内涵

1986 年 ISO 8492 中所给出质量定义--质量是产品或服务所满足明示或暗示需求能力的固有特性和特征的集合--

- 固有属性(事物中本来就有的,永久的特性)
- 明示的特性(规定的要求)
- 暗示的特性(社会习俗约定,行为惯例)

在 IBM RUP(统一过程)中,质量被定义为--满足或超出认定的一组需求,并使用经过认可的评测方法和标准来评估,还使用认定的流程来生产

#### 2.软件缺陷的定义

IEEE Standard 729(1983)中对软件缺陷给出了一个标准的定义--

- 从产品内部看,软件缺陷是软件产品开发或维护过程中所存在的错误,毛病等各种问题
- 从外部看,软件缺陷是系统所需要实现的某种功能的失效或违背

软件缺陷就是软件产品中所存在的问题,最终表现为用户所需要的功能没有完全实现,没有满足用户的需求

#### 3.软件缺陷的产生

1. 技术问题
2. 软件本身
3. 团队工作

#### 4.软件缺陷的构成

| 代码 | 需求 | 设计 | 初步设计 |
| ---- | ---- | ---- | -------- |
| 23%  | 41%  | 24%  | 12%      |

#### 5.修复软件缺陷的代价

修正错误的代价不是随时间线性增长,而几乎是呈指数增长

### 2.软件测试的分类

按测试层次分类--

- 底层测试--单元测试(Unit Testing)
- 接口层次--集成测试(Integration Testing).完成系统内单元之间接口和单元集成为一个完整系统的测试
- 系统层次--系统测试(System Testing)
- 用户层次--验收测试(Acceptance Testing,Beta Testing)验证是否是用户真正所需要的产品特性,验收测试关注用户环境,用户数据.且用户也参与测试过程中

按被测试的对象分类--

- 单元测试(Unit Testing),包括组件测试(Component Testing),模块测试(ModuleTesting)等
- 程序测试(Program Testing)
- 系统测试(System Testing)
- 文档测试(Documentation Testing),包括需求文档,设计文档,用户手册等
- Web 应用测试,客户端测试
- 数据库测试,服务器测试

按测试阶段划分--

- 传统软件测试流程--
  - 需求评审
  - 设计评审
  - 单元测试
  - 集成测试
  - 系统测试
  - 验收测试
  - α 测试
  - β 测试
- 敏捷测试流程--
  - 测试需求分析
  - 迭代测试计划
  - 持续的单元和系统测试
  - 验收测试

按测试目的分类--

- 功能测试(Functionality Testing)--也称正确性测试(Correctness Testing),验证每个功能是否按照事先定义的要求那样正常工作
- 压力测试(Stress Testing)--也称负载测试(Load Testing) ,用来检查系统在不同负载(如数据量,并发用户,连接数等)条件下的系统运行情况,特别是高负载极限负载下的系统运行行情况,以发现系统不稳定,系统性能瓶颈,内存泄漏,CPU 使用率过高等问题
- 性能测试(Performance Testing)--测定系统在不同负载条件下的系统具体的性能指标
- 可靠性测试(Reliability Testing)--检验系统是否能保持长期稳定,正常的运行,如确定系统平均故障间隔时间(Mean Time Between Failures,MTBF)包括强壮性测试(Robustness Testing)和异常处理测试(Exception Handling Testing)
- 灾难恢复性测试(Recovery Testing)--在系统崩溃,硬件故障或其他灾难发生之后,重新恢复系统和数据的能力测试
- 安全性测试(Security Testing)--测试系统在应对非授权的内部/外部访问,有意攻击时的系统防护能力
- 兼容性测试(Compatibility Testing)--测试在系统不同运行环境(网络,硬件,第三方软件等)下的实际表现
- 回归测试(Regression Testing)--为保证软件中新的变化(新增加的代码,代码修改等)不会对原有功能的正常使用有影响而进行的测试.也就是说,满足用户需求的原有功能不应该因为代码变化而出现任何新的问题
- 安装测试(Installation Testing)--在一个真实的或近似的用户环境中,验证系统是否能按照安装说明书成功地完成系统的安装,其中要考虑环境的不同设置或配置,安装文档的准确性等

### 3.静态测试和动态测试

根据程序是否运行,测试可以分为静态测试和动态测试

静态测试包括对软件产品的需求和设计规格说明书的评审,对程序代码的审查以及静态分析等

动态测试是通过真正运行程序发现错误,通过观察代码运行过程,来获取系统行为,变量实时结果.内存,堆栈,线程以及测试覆盖度等各方面的信息,来判断系统是否存在问题,或者通过有效的测试用例,对应的输入输出关系来分析被测程序的运行情况,来发现缺陷

#### 1.产品评审

定义--评审是对软件元素或者项目状态的一种评估手段,以确定其是否与计划的结果保持一致,并使其得到改进.检验工作产品是否正确地满足了以往工作产品中建立的规范,如需求或设计文档是否符合所定义的模板要求,各项内容是否清楚,一致

目的--通过软件评审尽早地发现产品中的缺陷

通过软件评审,可以更早地发现需求工程,软件设计等各个方面的问题,极大地减少后期返工,将质量成本从昂贵的后期返工转化为前期的缺陷发现

还可以将问题记录下来,使其具有可追溯性,找出问题产生的根本原因,在将来的项目开发中进一步减少缺陷,有利于软件质量的提高

软件评审的形式--

- 互为评审(Peer Review)--也称同行评审
- 走查( Walk-through)--由他人从头到尾进行检查
- 会议评审--最为正式的集体检审查形式,由主持人(协调人),作者和相关专业人员,项目干系人等共同参与,经过一系列准备工作(如选择合适的参加人员,开预备会,发放材料,事先阅读等),开会确定存在的各种问题,并事后跟踪,解决问题

较为重要的评审--

- 需求评审
- 设计和代码评审

#### 2.静态分析

静态分析就是对系统的源代码进行研读,查找错误或收集一些度量数据,并不需要对代码进行编译和仿真运行

静态分析的查错和分析功能是其他方法所不能替代的

可以采用人工检测和计算机辅助静态分析手段进行检测,但越来越多地采用工具进行自动化分析

人工检测--人工检测是指不依靠计算机而完全靠人工审查或评审软件.人工检测偏重于编码风格,算法的检查,也可以检查安全性,国际化和容错性等代码问题.可以有效地发现逻辑设计和编码错误,发现计算机辅助静态分析不易发现的问题

计算机辅助静态分析--利用静态分析工具对被测程序进行特性分析,从程序中提取一些信息,以便检查程序逻辑的各种缺陷和可疑的程序构造.如用错的局部变量和全局变量,不匹配的参数,潜在的死循环等.静态分析中还可以用符号代替数值求得程序结果,以便对程序进行运算规律的检验

#### 3.验证和确认

验证(Verification)--检验软件是否已正确地实现了产品规格说明书所定义的系统功能和特性

有效性确认(Validation)--效性确认要求更高,要能保证所生产的软件可追溯到用户需求的一系列活动.确认过程提供证据表明软件是否真正满足客户的需求,一切从客户出发,理解客户的需求

区别--

- Verification--验证开发过程是否遵守已定义好的内容
- Validation--是否正在构建用户所需要的功能

### 4.主动测试和被动测试

主动测试--测试人员主动向被测试对象发送请求,或借助数据,事件驱动被测试对象的行为,从而验证被测试对象的反应或输出结果.被测试对象处于测试状态,而不是实际工作状态

被动测试--软件产品运行在实际环境中,测试人员不干预产品的运行,而是被动地监控产品的运行,通过一定的被动机制来获得系统运行的数据,但数据的完整性得不到保证

被动测试适合性能测试和在线监控

### 5.黑盒测试和白盒测试

白盒测试--也称结构化测试或逻辑驱动测试,已知产品的内部工作过程,清楚最终生成软件产品的计算机程序结构及其语句,按照程序内部的结构测试程序,测试程序内部的变量状态,逻辑结构,运行路径等,检验程序中的每条通路是否都能按预定要求正确工作,检查程序内部动作或运行是否符合设计规格要求,所有内部成分是否按规定正常进行

白盒测试的基本原则--

1. 在执行测试时,先考虑各个分支被覆盖
2. 再考虑完成所有逻辑条件分别为真值(True)和假值(False)的测试
3. 如果有更高的质量要求,测试对象流程图中所有独立路径至少被运行一次
4. 检查内部数据结构,注意上下文的影响,以确保其测试的有效性

穷举路径测试的缺点--

- 穷举路径测试绝不能查出程序违反了设计规范,即程序在实现一个不是用户需要的功能
- 穷举路径测试不可能查出程序中因遗漏路径而出错
- 穷举路径测试可能发现不了一些与数据相关的异常错误

黑盒测试--也称数据驱动测试方法,在测试时,把程序看作一个不能打开的黑盒子,在完全不考虑程序内部结构和内部特性的情况下,测试人员针对软件直接进行测试

黑盒测试方法不关注软件内部结构,而是着眼于程序外部用户界面,关注软件的输入和输出,关注用户的需求,直接获得用户体验,从用户的角度或扮演用户角色来验证软件功能,验证产品每个功能是否都能正常使用,评估软件的使用质量

黑盒测试的测试对象--

- 有错误的功能或遗漏了某项功能
- 不能正确地接收输入数据,输出错误的结果
- 功能操作逻辑不合理,不够方便
- 界面出错,扭曲或不美观
- 安装过程中出现问题,安装步骤不清晰,不够灵活
- 系统初始化问题

### 6.软件测试级别

1. 单元测试--在编码阶段,针对每个程序单元而进行的测试,其测试的对象是程序系统中的最小单元--类,函数﹑模块或组件等.单元测试主要使用白盒测试方法.从程序的内部结构出发设计测试用例,检查程序模块或组件已实现的功能与定义的功能是否一致,以及编码中是否存在错误.多个单元可以平行地,独立地被测试,通常要编写驱动程序和桩程序
2. 集成测试--也称组装测试,联合测试,子系统测试,是在单元测试的基础上,按照设计要求不断进行集成而进行的相应测试,目的是发现单元之间的接口问题,如接口参数类型不匹配,接口数据在传输中丢失,数据误差不断积累等问题.通常有两种集成方式--
   - 一次性集成方式--首先对各个单元分别进行测试,然后再把所有单元组装在一起进行测试,最终得到要求的软件系统
   - 渐增式集成方式--首先对某两三个单元进行测试,然后将这些单元逐步组装成较大的系统.在组装的过程中,一边连接一边测试,以发现连接过程中产生的问题,最后完成所有单元的集成,构造为一个完整的软件系统
3. 系统测试--:基于产品功能说明书,用户角度来对各项功能进行验证,以确认每个功能是否都能正常使用.不考虑程序内部结构和实现方式,只检查程序功能是否按照需求规格说明书的规定正常使用,程序是否能适当地接收输入数据而产生正确的输出信息,并且保持外部信息(如数据库或文件)的完整性
4. 验收测试--向未来的用户表明系统能够像预定要求那样工作,验证软件的功能和性能及其他特性是否与用户的要求一致.基于需求规格说明书和用户信息,验证软件的功能和性能及其他特性.一般要求在实际的用户环境上进行,并和用户共同完成

### 7.软件测试计划和测试用例

测试用例是测试设计的主要产物

#### 1.测试计划

测试计划是为了高效地,高质量地完成测试任务而做的准备工作,包括对工作量的估算,测试资源和进度安排,测试风险评估,测试策略制定等工作

测试计划的基础是测试需求分析,基于明确的测试需求分析结果来确定测试范围和测试任务,才能估算测试工作量,得以进一步估算所需资源和时间,并最终制定测试计划书

测试计划书的主要内容--

- 目标和范围--包括产品特性,质量目标,各阶段的测试对象,目标,范围和限制
- 项目估算--根据历史数据和采用恰当的评估技术,对测试工作量,所需资源(人力,时间,软硬件环境)做出合理的估算
- 风险计划--对测试可能存在的风险进行分析,识别,以及对风险的回避,监控和管理
- 进度安排--分解项目工作结构,并采用时限图,甘特图等方法制定时间/资源表
- 资源配置--人员,硬件和软件等资源的组织和分配包含每一个阶段和每一个任务所需要的资源
- 跟踪和控制机制--包括质量保证和控制,变化管理和控制等,明确如何准备去做一个问题报告以及如何去界定一个问题的性质,问题报告要包括问题的发现者和修改者,问题发生的频率,是用什么样的测试用例测出该问题的,以及明确问题产生时的测试环境

#### 2.测试用例

良好的测试用例不断地被重复使用,使得测试过程事半功倍

### 8.专业测试人员的责任和要求

测试人员必须明白被测软件系统的实现原理,方法以及涉及的各种第三方平台,技术等内容

## 第三章 软件测试方法

### 1.基于直觉和经验的方法

基于直觉和经验的测试方法,不是严格意义上的科学测试方法,带有一定的随机性,测试结果不够可靠,甚至可以看作是没有办法的办法

但是,软件测试具有社会性,呈现一定的不确定性,这时,人的直觉和经验又往往能发挥很好的作用

#### 1.Ad-hoc 测试方法和 ALAC 测试

自由测试(Ad-hoc Testing)--强调测试人员根据自己的经验,不受测试用例的束缚,放开思路,灵活地进行各种测试

ALAC--Act-like-a-customer(像客户那样做)的简写,是一种基于客户使用产品的知识开发出来的测试方法,出发点是著名的 Pareto 80/20 规律

#### 2.错误推测法

错误推测法--测试者根据经验,知识和直觉来发现软件错误,来推测程序中可能存在的各种错误,从而有针对性地进行测试

### 2.基于输入域的方法

#### 1.等价类划分法

基本思想--用一组有限的数据去代表近似无限的数据.将所有可能的输入数据(有效的或无效的)划分成若干个等价类,从每个等价类中选择一定的代表值进行测试

等价类划分过程--

1. 分类--将输入域按照具有相同特性或者类似功能进行分类
2. 抽象--在各个子类中去抽象出相同特性并用实例来表征这个特性

有效等价类--输入完全满足程序输入的规格说明,有意义的输入数据的集合

无效等价类--不满足程序输入要求或者无效的输入数据构成的集合

#### 2.边界值分析法

在某个输入输出变量范围的边界上,验证系统功能是否正常运行的测试方法

边界值分析法要取决于变量的范围和范围的类型,确认所有输入的边界条件或临界值,然后选择这些边界条件,临界值及其附近的值来进行相关功能的测试

### 3.基于组合及其优化的方法

#### 1.判定表方法

#### 2.因果图法

从需求中找出因(输入条件)和果(输出/程序状态的改变),通过因果图转化为判定表

约束条件--

- E(互斥/异或)--最多有一个成立,可以都不成立
- I(包含)--必须至少有一个成立
- O(唯一)--有且仅有一个成立
- R(要求)--必要条件

因果图步骤--

- 提取因果,赋予标识符
- 提取因果关系,表示因果图
- 标明约束条件
- 转化判定表
- 设计测试用例

#### 3.Pair-wise 方法

#### 4.正交试验法

### 4.基于逻辑覆盖的方法

#### 1.判定覆盖

#### 2.条件覆盖

#### 3.判定-条件覆盖

#### 4.条件组合覆盖

#### 5.基本路径覆盖

### 5.基于缺陷模式的覆盖

#### 1.常见的缺陷模式

#### 2.DPBT 的测试方法

### 6.基于模型的测试

#### 1.功能图法

#### 2.模糊测试方法

### 7.形式化测试方法

#### 1.形式化方法

#### 2.形式化验证

#### 3.扩展有限状态机方法

## 第四章 软件测试流程和规范

### 1.传统的软件测试过程

#### 1.W 模型

#### 2.TMap NEXT

### 2.敏捷测试过程

#### 1.敏捷测试的特征

#### 2.敏捷测试流程

#### 3.基于脚本测试和探索式测试

### 3.软件测试学派

### 4.基于风险的测试策略

### 5.测试过程改进

#### 1.TMMi

#### 2.TPI NEXT

#### 3.CTP

#### 4.STEP

### 6.软件测试规范

## 第五章 单元测试与集成测试

### 1.单元测试的目标和任务

#### 1.为何要进行单元测试

#### 2.单元测试的目标和要求

#### 3.单元测试的任务

### 2.静态编码

#### 1.编码的标准和规范

#### 2.代码评审

### 3.动态测试

#### 1.驱动测试和桩程序

#### 2.类测试

### 4.代码评审案例分析

#### 1.空指针保护

#### 2.格式化数字错误

#### 3.字符串或数组越界错误

#### 4.资源不合理使用

#### 5.不当使用 synchronized 导致系统性能下降

### 5.分层单元测试

#### 1.Action 层的单元测试

#### 2.数据访问层的单元测试

#### 3.Servlet 的单元测试

### 6.单元测试工具

### 7.系统集成的模式与方法

#### 1.集成测试的模式

#### 2.自顶向下和自底向上集成方法

#### 3.混合策略

#### 4.持续集成

## 第六章 系统测试

### 1.系统级功能测试

#### 1.功能测试要求

#### 2.Web 服务器的功能测试

#### 3.一套 Web 功能测试工具

#### 4.AutoIT 及其客户端测试工具

#### 5.嵌入式测试工具

### 2.回归测试

#### 1.目的

#### 2.策略及其方法

### 3.性能测试

#### 1.系统性能指标和测试类型

#### 2.系统负载及其模式

#### 3.性能测试的基本过程

#### 4.性能测试结果分析

#### 5.JMeter 及系统性能测试工具

#### 6.Web 性能测试

#### 7.用 JProfiler 完成应用服务器的性能测试

#### 8.压力测试

#### 9.容量测试

### 4.安全性测试

#### 1.安全性测试的范围与方法

#### 2.Web 安全性测试

#### 3.安全性测试工具

### 5.容错性测试

#### 1.容错性测试的要点

#### 2.数据库并发控制测试

### 6.兼容性测试

#### 1.软件兼容性测试

#### 2.数据共享兼容性测试

#### 3.硬件兼容性测试

### 7.可靠性测试

## 第七章 验收测试

### 1.验收测试过程

### 2.产品规格书的验证

#### 1.产品规格书的评审

#### 2.产品规格书的验证

#### 3.文档的测试

### 3.用户界面和可用性测试

### 4.安装测试和可恢复性测试

## 第八章 软件本地化测试

### 1.什么是软件本地化

#### 1.软件本地化与国际化

#### 2.字符集问题

#### 3.软件国际化标准

#### 4.软件本地化基本步骤

#### 5.软件本地化测试

### 2.翻译验证

### 3.本地化测试的技术问题

#### 1.数据格式

#### 2.页面显示和布局

#### 3.配置和兼容性问题

#### 4.本地化的功能测试

## 第九章 测试自动化及其框架

### 1.测试自动化的内涵

#### 1.手工测试的局限性

#### 2.什么是测试自动化

#### 3.软件测试自动化的优势

### 2.测试自动化实现的原理

#### 1.代码分析

#### 2.对象识别

#### 3.脚本分析

#### 4.自动对比技术

#### 5.测试自动化系统的构成

### 3.测试自动化的实施

#### 1.测试工具的分类

#### 2.测试工具的选择

#### 3.测试自动化普遍存在的问题

#### 4.测试自动化的引入和应用

### 4.功能测试工具特性要求

### 5.性能测试工具特性要求

### 6.测试自动化的框架

## 第十章 测试需求分析与测试计划

### 1.测试的目标与准则

### 2.测试需求分析

#### 1.测试需求分析的基本方法

#### 2.测试需求分析的技术

#### 3.功能测试范围分析

#### 4.非功能性的系统测试需求

### 3.测试项目的估算与进度安排

#### 1.测试工作量估算

#### 2.工作分解结构表方法

#### 3.资源的安排

#### 4.测试里程碑和进度表

### 4.测试风险和测试策略

#### 1.测试风险管理计划

#### 2.测试策略的确定

### 5.测试计划的内容与编制

#### 1.测试计划内容

#### 2.测试项目的计划过程

#### 3.制定有效的测试计划

## 第十一章 设计和维护测试用例

### 1.测试用例构成及其设计

### 2.测试用例的组织和跟踪

## 第十二章 部署测试环境

### 1.测试环境的重要性

### 2.测试环境要素

### 3.虚拟机的应用

### 4.如何建立项目的测试环境

### 5.自动部署测试环境

### 6.测试环境的维护和管理

## 第十三章 测试执行,缺陷报告与跟踪

### 1.软件测试执行与跟踪

### 2.软件缺陷的描述

#### 1.软件缺陷的生命周期

#### 2.严重性和优先级

#### 3.缺陷的其他属性

#### 4.完整的缺陷信息

#### 5.缺陷描述的基本要求

### 3.软件缺陷相关的信息

### 4.软件缺陷跟踪和分析

#### 1.软件缺陷处理技巧

#### 2.缺陷趋势分析

#### 3.缺陷分布分析

#### 4.缺陷跟踪方法

### 5.软件缺陷跟踪系统

## 第十四章 软件测试和质量分析报告

### 1.软件产品的质量度量

#### 1.软件度量及其过程

#### 2.软件质量的度量

#### 3.质量度量的统计方法

### 2.评估系统测试的覆盖程度

#### 1.对软件需求的估算

#### 2.基于需求的测试覆盖评估

#### 3.基于代码的测试覆盖评估

### 3.基于缺陷的产品质量分析

#### 1.缺陷评测的基线

#### 2.经典的种子公式

#### 3.基于缺陷清除率的估算方法

#### 4.软件产品性能评估

### 4.测试报告的具体内容
